import Head from 'next/head'
import Body from "/components/pages/home/body"

const YOUTUBE_PLAYLIST_ITEMS_ENDPOINT = "https://www.googleapis.com/youtube/v3/playlistItems";
const playlistId= "PLZPuM9vAbtXs4QAvoONWzN4wuhvAHazvx";
const url = YOUTUBE_PLAYLIST_ITEMS_ENDPOINT+"?part=snippet&playlistId="+playlistId+"&maxResults=20"+"&key="+process.env.GOOGLE_API_KEY;

export default function Home({data}) {
  
  return (
    
    <div className="">
      
      <Head>
        <title>Terran Kartik Tellus | Home</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/svg/favicon.svg" />

        <meta property="og:site_name" content="TerranKartikTellus.vercel.app" />
        <meta property="og:title" content="Home" />
        <meta property="og:description" content="Personal website" />
        <meta property="og:image" itemProp="image" content="/public/linkPerview.PNG" />
        <meta property="og:type" content="website" />
        <meta property="og:updated_time" content="13-dec-2021" />

      </Head>
      
      <div className="m-0 font-OpenSans bg-neutral-900 "> 
        <div >{<Body data={data} />}</div>
      </div>
    </div>
  
  )
}

export async function getServerSideProps(context) {  
  const res = await fetch(url);
  const data = await res.json();

  return {
    props: {
      data
    },
  }
}
